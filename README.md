# ğŸ¼ æ¯å©´å•†åŸç³»ç»Ÿ - åç«¯æœåŠ¡

<div align="center">

![Java](https://img.shields.io/badge/Java-21-orange?style=flat-square&logo=openjdk)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen?style=flat-square&logo=spring)
![MySQL](https://img.shields.io/badge/MySQL-8.0-blue?style=flat-square&logo=mysql)
![Redis](https://img.shields.io/badge/Redis-7.4.0-red?style=flat-square&logo=redis)
![RabbitMQ](https://img.shields.io/badge/RabbitMQ-4.1.4-orange?style=flat-square&logo=rabbitmq)
![Elasticsearch](https://img.shields.io/badge/Elasticsearch-9.2.1-yellow?style=flat-square&logo=elasticsearch)

åŸºäº Spring Boot 3.2.0 + Java 21 æ„å»ºçš„ç°ä»£åŒ–æ¯å©´ç”µå•†åç«¯æœåŠ¡

</div>

---

## ğŸ¬ é¡¹ç›®æ¼”ç¤º

<div align="center">

### ğŸ¯ åå°ç®¡ç†ç³»ç»Ÿæ¼”ç¤º
> å®Œæ•´å±•ç¤ºåå°ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½å’Œæ“ä½œæµç¨‹

https://github.com/user-attachments/assets/f37a9f50-1511-4000-a56b-74d1357d25c9

---

### ğŸ”„ å®Œæ•´ä¸šåŠ¡æµç¨‹æ¼”ç¤º
> å•†å“è´­ä¹° - æ”¯ä»˜ - å‘è´§ - é€€æ¬¾å…¨æµç¨‹æ¼”ç¤º

https://github.com/user-attachments/assets/3aa40165-337a-4e13-8262-ca470a6a9a47

---

### â­ å•†å“è¯„ä»·ä¸å›å¤æµç¨‹æ¼”ç¤º
> å•†å“è¯„ä»· - è¯„ä»·å›å¤ - äº’åŠ¨äº¤æµå®Œæ•´æµç¨‹

https://github.com/user-attachments/assets/bb7d9c68-591b-4fe4-b3d1-6558a964e4b4

</div>

---

## ğŸ— ç³»ç»Ÿæ¶æ„

```
+-------------------------------------------------------------------+
|                          å®¢æˆ·ç«¯å±‚                                  |
|       muying-web (Vue 3)          muying-admin (Next.js 16)       |
+-------------------------------------------------------------------+
                                  |
                                  v
+-------------------------------------------------------------------+
|                      muying-mall åç«¯æœåŠ¡                          |
+-------------------+-----------------------------------------------+
|  Controller å±‚    |  RESTful API æ¥å£ï¼Œç»Ÿä¸€å“åº”æ ¼å¼                |
+-------------------+-----------------------------------------------+
|  Service å±‚       |  ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œäº‹åŠ¡ç®¡ç†                         |
+-------------------+-----------------------------------------------+
|  æ ¸å¿ƒç»„ä»¶         |  çŠ¶æ€æœº | TCCäº‹åŠ¡ | åˆ†å¸ƒå¼é” | æ¶ˆæ¯é˜Ÿåˆ—        |
+-------------------+-----------------------------------------------+
|  Mapper å±‚        |  MyBatis-Plus æ•°æ®è®¿é—®                         |
+-------------------------------------------------------------------+
                                  |
        +-----------+-----------+-----------+-----------+
        v           v           v           v           v
   +---------+ +---------+ +---------+ +---------+ +---------+
   |  MySQL  | |  Redis  | |RabbitMQ | |   ES    | | Alipay  |
   |  8.0+   | |  7.4.0  | |  4.1.4  | |  9.2.1  | |   SDK   |
   +---------+ +---------+ +---------+ +---------+ +---------+
```

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

| ç›®å½•/æ–‡ä»¶ | è¯´æ˜ |
|-----------|------|
| ğŸ“š `docs/` | é¡¹ç›®æ–‡æ¡£ |
| â”œâ”€ ğŸ—ï¸ `architecture/` | æ¶æ„è®¾è®¡æ–‡æ¡£ |
| â”œâ”€ ğŸ—„ï¸ `database/` | æ•°æ®åº“è®¾è®¡æ–‡æ¡£ |
| â”œâ”€ ğŸ”„ `business/` | ä¸šåŠ¡æµç¨‹æ–‡æ¡£ |
| â”œâ”€ ğŸ’» `development/` | å¼€å‘ç›¸å…³æ–‡æ¡£ |
| â””â”€ ğŸ”Œ `api/` | APIæ¥å£æ–‡æ¡£ |
| ğŸ“ `src/main/java/com/muyingmall/` | **Javaæºç ** |
| â”œâ”€ ğŸ® `controller/` | æ§åˆ¶å™¨å±‚ |
| â”‚ â”œâ”€ `admin/` | ç®¡ç†ç«¯æ¥å£ |
| â”‚ â”œâ”€ `user/` | ç”¨æˆ·ç«¯æ¥å£ |
| â”‚ â””â”€ `common/` | å…¬å…±æ¥å£ |
| â”œâ”€ ğŸ”§ `service/` | ä¸šåŠ¡æœåŠ¡å±‚ |
| â”œâ”€ ğŸ—ƒï¸ `mapper/` | æ•°æ®è®¿é—®å±‚ |
| â”œâ”€ ğŸ“Š `entity/` | å®ä½“ç±» |
| â”œâ”€ ğŸ“¦ `dto/` | æ•°æ®ä¼ è¾“å¯¹è±¡ |
| â”œâ”€ ğŸ·ï¸ `enums/` | æšä¸¾å®šä¹‰ |
| â”œâ”€ âš™ï¸ `config/` | é…ç½®ç±» |
| â”œâ”€ ğŸ” `security/` | å®‰å…¨è®¤è¯ |
| â”œâ”€ ğŸ”„ `statemachine/` | çŠ¶æ€æœº |
| â”œâ”€ ğŸ’± `tcc/` | TCCåˆ†å¸ƒå¼äº‹åŠ¡ |
| â”œâ”€ ğŸ”’ `lock/` | åˆ†å¸ƒå¼é” |
| â”œâ”€ ğŸ“¨ `consumer/` | æ¶ˆæ¯æ¶ˆè´¹è€… |
| â”œâ”€ ğŸ”§ `handler/` | æ¶ˆæ¯å¤„ç†å™¨ |
| â”œâ”€ ğŸ“¢ `event/` | äº‹ä»¶é©±åŠ¨ |
| â”œâ”€ ğŸ‘‚ `listener/` | äº‹ä»¶ç›‘å¬å™¨ |
| â”œâ”€ ğŸ“ˆ `monitor/` | ç³»ç»Ÿç›‘æ§ |
| â”œâ”€ ğŸ’¬ `websocket/` | WebSocketé€šä¿¡ |
| â”œâ”€ â° `task/` | å®šæ—¶ä»»åŠ¡ |
| â”œâ”€ ğŸ¯ `aspect/` | AOPåˆ‡é¢ |
| â”œâ”€ ğŸ” `filter/` | è¿‡æ»¤å™¨ |
| â”œâ”€ ğŸš§ `interceptor/` | æ‹¦æˆªå™¨ |
| â”œâ”€ âš ï¸ `exception/` | å¼‚å¸¸å¤„ç† |
| â”œâ”€ ğŸ·ï¸ `annotation/` | è‡ªå®šä¹‰æ³¨è§£ |
| â”œâ”€ ğŸ“„ `document/` | ESæ–‡æ¡£ |
| â”œâ”€ ğŸ—ƒï¸ `repository/` | ESä»“åº“ |
| â”œâ”€ ğŸ› ï¸ `common/` | é€šç”¨å·¥å…· |
| â””â”€ ğŸ§° `util/` | å·¥å…·ç±» |
| ğŸ“ `src/main/resources/` | **èµ„æºæ–‡ä»¶** |
| â”œâ”€ ğŸ“‹ `mapper/` | MyBatisæ˜ å°„æ–‡ä»¶ |
| â””â”€ âš™ï¸ `application.yml` | åº”ç”¨é…ç½® |
| ğŸ§ª `src/test/` | æµ‹è¯•ä»£ç  |
| ğŸ—„ï¸ `muying_mall.sql` | æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ |
| ğŸ³ `docker-compose.yml` | Dockerç¼–æ’æ–‡ä»¶ |
| ğŸ“¦ `pom.xml` | Mavené…ç½®æ–‡ä»¶ |
| ğŸ“– `README.md` | é¡¹ç›®è¯´æ˜æ–‡æ¡£ |

---

## âš¡ æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§

| ç‰¹æ€§ | å®ç°æ–¹æ¡ˆ | è¯´æ˜ |
|------|---------|------|
| çŠ¶æ€æœºæ¨¡å¼ | Spring Statemachine | è®¢å•ã€æ”¯ä»˜ã€é€€æ¬¾çŠ¶æ€æµè½¬ç®¡ç† |
| åˆ†å¸ƒå¼äº‹åŠ¡ | TCC æ¨¡å¼ | ä¿è¯è·¨æœåŠ¡æ•°æ®æœ€ç»ˆä¸€è‡´æ€§ |
| åˆ†å¸ƒå¼é” | Redis + Redisson | åº“å­˜æ‰£å‡ã€é˜²é‡å¤ä¸‹å• |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ | å¼‚æ­¥å¤„ç†ã€å»¶è¿Ÿé˜Ÿåˆ—ã€æ­»ä¿¡é˜Ÿåˆ— |
| å…¨æ–‡æœç´¢ | Elasticsearch 9.2.1 | å•†å“æœç´¢ã€æœç´¢å»ºè®® |
| ç¼“å­˜ç­–ç•¥ | Redis å¤šçº§ç¼“å­˜ | çƒ­ç‚¹æ•°æ®ç¼“å­˜ã€Session ç®¡ç† |
| è®¤è¯æˆæƒ | JWT + Spring Security | æ— çŠ¶æ€è®¤è¯ã€æƒé™æ§åˆ¶ |
| å®æ—¶é€šä¿¡ | WebSocket | ç›‘æ§æ•°æ®æ¨é€ã€ç‰©æµæ›´æ–° |
| API æ–‡æ¡£ | Knife4j | è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£ |

---

## ğŸ”§ æ ¸å¿ƒä¸šåŠ¡æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | æŠ€æœ¯è¦ç‚¹ |
|------|------|---------|
| ç”¨æˆ·æ¨¡å— | æ³¨å†Œç™»å½•ã€ä¸ªäººä¸­å¿ƒã€åœ°å€ç®¡ç†ã€é’±åŒ…ç§¯åˆ† | JWTè®¤è¯ã€BCryptåŠ å¯† |
| å•†å“æ¨¡å— | å•†å“ç®¡ç†ã€SKUè§„æ ¼ã€åˆ†ç±»å“ç‰Œã€åº“å­˜ç®¡ç† | ESæœç´¢ã€Redisç¼“å­˜ |
| è®¢å•æ¨¡å— | è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜ã€å‘è´§ã€é€€æ¬¾ | çŠ¶æ€æœºã€TCCäº‹åŠ¡ã€åˆ†å¸ƒå¼é” |
| æ”¯ä»˜æ¨¡å— | æ”¯ä»˜å®/å¾®ä¿¡/ä½™é¢æ”¯ä»˜ã€é€€æ¬¾å¤„ç† | å¼‚æ­¥å›è°ƒã€å¹‚ç­‰æ€§ä¿è¯ |
| è¥é”€æ¨¡å— | ä¼˜æƒ åˆ¸ã€ç§¯åˆ†ä½“ç³»ã€ä¼šå‘˜ç­‰çº§ | åˆ†å¸ƒå¼é”é˜²è¶…é¢† |
| æ¶ˆæ¯æ¨¡å— | è®¢å•/æ”¯ä»˜/åº“å­˜æ¶ˆæ¯å¤„ç† | RabbitMQã€æ­»ä¿¡é˜Ÿåˆ— |
| ç›‘æ§æ¨¡å— | ç³»ç»Ÿç›‘æ§ã€APIç»Ÿè®¡ã€æ—¥å¿—è®°å½• | Actuatorã€AOPåˆ‡é¢ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Java 21
- Maven 3.9.9
- MySQL 8.0
- Redis 7.4.0
- RabbitMQ 4.1.4 (å¯é€‰)
- Elasticsearch 9.2.1 (å¯é€‰)

### å¯åŠ¨æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/vam12375/muying-mall.git
cd muying-mall

# 2. åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE muying_mall CHARACTER SET utf8mb4;"
mysql -u root -p muying_mall < muying_mall.sql

# 3. é…ç½®ç§æœ‰ä¿¡æ¯
cp src/main/resources/application-private.yml.example src/main/resources/application-private.yml
# ç¼–è¾‘ application-private.yml å¡«å…¥æ•°æ®åº“å¯†ç ã€JWTå¯†é’¥ç­‰

# 4. å¯åŠ¨æœåŠ¡
mvn spring-boot:run

# 5. è®¿é—® Knife4j API æ–‡æ¡£
# http://localhost:8080/api/doc.html
```

### Docker å¯åŠ¨

```bash
docker-compose up -d
```

---

## ğŸŒ API æ¥å£

| æ¨¡å— | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| ç”¨æˆ·è®¤è¯ | `/user/auth/*` | æ³¨å†Œã€ç™»å½•ã€ç™»å‡º |
| ç”¨æˆ·ä¸­å¿ƒ | `/user/*` | ä¸ªäººä¿¡æ¯ã€åœ°å€ã€é’±åŒ…ã€ç§¯åˆ† |
| è´­ç‰©æµç¨‹ | `/user/cart/*`, `/user/order/*` | è´­ç‰©è½¦ã€è®¢å•ç®¡ç† |
| å•†å“æœåŠ¡ | `/common/product/*` | å•†å“åˆ—è¡¨ã€è¯¦æƒ…ã€æœç´¢ |
| æ”¯ä»˜æœåŠ¡ | `/payment/*` | æ”¯ä»˜å®/å¾®ä¿¡æ”¯ä»˜ã€é€€æ¬¾ |
| ç®¡ç†åå° | `/admin/*` | å•†å“/è®¢å•/ç”¨æˆ·/è¥é”€ç®¡ç† |

å“åº”æ ¼å¼:
```json
{ "code": 200, "message": "æ“ä½œæˆåŠŸ", "data": {} }
```

---

## ğŸ›  æŠ€æœ¯æ ˆ

| ç±»å‹ | æŠ€æœ¯ |
|------|------|
| æ ¸å¿ƒæ¡†æ¶ | Spring Boot 3.2.0, Spring Security 6.x |
| æ•°æ®å±‚ | MyBatis-Plus 3.5.9, MySQL 8.0 |
| ç¼“å­˜ | Redis 7.4.0 |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ 4.1.4 |
| æœç´¢å¼•æ“ | Elasticsearch 9.2.1 |
| è®¤è¯ | JWT 0.11.5 |
| æ”¯ä»˜ | Alipay SDK 4.38.0 |
| æ–‡æ¡£ | Knife4j |

---

## ğŸ”— ç›¸å…³é¡¹ç›®

| é¡¹ç›® | æŠ€æœ¯æ ˆ | é“¾æ¥ |
|------|--------|------|
| muying-mall | Spring Boot 3.2 (æœ¬é¡¹ç›®) | [GitHub](https://github.com/vam12375/muying-mall) |
| muying-web | Vue 3 + Vite | [GitHub](https://github.com/vam12375/muying-web) |
| muying-admin | Next.js 16 + React | [GitHub](https://github.com/vam12375/muying-admin) |

---

## ğŸ“š æ–‡æ¡£

| ç±»å‹ | æ–‡æ¡£ | è¯´æ˜ |
|------|------|------|
| æ¶æ„è®¾è®¡ | [ç³»ç»Ÿæ¶æ„](docs/architecture/system-architecture.md) | æ•´ä½“æ¶æ„è®¾è®¡ |
| æ¶æ„è®¾è®¡ | [ç»„ä»¶äº¤äº’](docs/architecture/component-interaction.md) | ç»„ä»¶é—´äº¤äº’å…³ç³» |
| æ¶æ„è®¾è®¡ | [éƒ¨ç½²æ¶æ„](docs/architecture/deployment-architecture.md) | éƒ¨ç½²æ–¹æ¡ˆè®¾è®¡ |
| ä¸šåŠ¡æµç¨‹ | [è®¢å•æµç¨‹](docs/business/order-process.md) | è®¢å•ä¸šåŠ¡æµç¨‹ |
| ä¸šåŠ¡æµç¨‹ | [æ”¯ä»˜æµç¨‹](docs/business/payment-process.md) | æ”¯ä»˜ä¸šåŠ¡æµç¨‹ |
| ä¸šåŠ¡æµç¨‹ | [æ—¶åºå›¾](docs/business/sequence-diagrams.md) | æ ¸å¿ƒä¸šåŠ¡æ—¶åºå›¾ |
| æ•°æ®åº“ | [ERå›¾](docs/database/er-diagram.md) | æ•°æ®åº“å®ä½“å…³ç³»å›¾ |
| æ•°æ®åº“ | [æ•°æ®å­—å…¸](docs/database/data-dictionary.md) | è¡¨ç»“æ„è¯´æ˜ |
| å¼€å‘æŒ‡å— | [ç¯å¢ƒæ­å»º](docs/development/setup-guide.md) | å¼€å‘ç¯å¢ƒé…ç½® |
| å¼€å‘æŒ‡å— | [ç¼–ç è§„èŒƒ](docs/development/coding-standards.md) | ä»£ç è§„èŒƒ |
| å¼€å‘æŒ‡å— | [æµ‹è¯•æŒ‡å—](docs/development/testing-guide.md) | æµ‹è¯•è¯´æ˜ |

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

<div align="center">

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Star

</div>
