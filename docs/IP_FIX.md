# IP 地址处理优化

## 🐛 问题
IPv6 本地回环地址 `0:0:0:0:0:0:0:1` 显示不友好

## ✅ 解决方案

### 1. IPv6 转 IPv4
```java
// IPv6 本地地址 → 127.0.0.1
if (ip.equals("0:0:0:0:0:0:0:1") || ip.equals("::1")) {
    ip = "127.0.0.1";
}
```

### 2. 地理位置优化
- `127.0.0.1` → "本地"
- `192.168.*` → "内网"
- 其他 → "未知"

## 🔄 应用
```bash
# 重启后端
cd muying-mall
mvn spring-boot:run
```

新的登录记录将显示 `127.0.0.1` 而不是 IPv6 地址。

---

**修复时间**: 2025-11-25  
**文件**: `IpUtil.java`
