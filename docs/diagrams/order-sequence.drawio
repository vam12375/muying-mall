<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    
    <!-- æ ‡é¢˜ -->
    <mxCell id="title" value="ç”¨æˆ·ä¸‹å•ä¸šåŠ¡æµç¨‹æ—¶åºå›¾" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=18;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
      <mxGeometry x="220" y="10" width="300" height="30" as="geometry"/>
    </mxCell>
    
    <!-- å‚ä¸Žè€… -->
    <mxCell id="user-head" value="ðŸ‘¤ ç”¨æˆ·" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
      <mxGeometry x="55" y="50" width="30" height="50" as="geometry"/>
    </mxCell>
    <mxCell id="user-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="70" y="110" as="sourcePoint"/>
        <mxPoint x="70" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="frontend-box" value="å‰ç«¯" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="120" y="60" width="60" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="frontend-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="150" y="100" as="sourcePoint"/>
        <mxPoint x="150" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="order-box" value="OrderController" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="200" y="60" width="100" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="order-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="250" y="100" as="sourcePoint"/>
        <mxPoint x="250" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="service-box" value="OrderService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="320" y="60" width="90" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="service-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="100" as="sourcePoint"/>
        <mxPoint x="365" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="product-box" value="ProductService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="430" y="60" width="100" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="product-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="480" y="100" as="sourcePoint"/>
        <mxPoint x="480" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="lock-box" value="åˆ†å¸ƒå¼é”" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="550" y="60" width="70" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="lock-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="585" y="100" as="sourcePoint"/>
        <mxPoint x="585" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="db-box" value="Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="640" y="50" width="60" height="45" as="geometry"/>
    </mxCell>
    <mxCell id="db-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="670" y="105" as="sourcePoint"/>
        <mxPoint x="670" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="mq-box" value="RabbitMQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="720" y="60" width="70" height="30" as="geometry"/>
    </mxCell>
    <mxCell id="mq-line" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#999999;strokeWidth=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="755" y="100" as="sourcePoint"/>
        <mxPoint x="755" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯1: ç”¨æˆ·ç‚¹å‡»ç»“ç®— -->
    <mxCell id="msg1" value="1. ç‚¹å‡»ç»“ç®—" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#1976D2;strokeWidth=2;fillColor=#BBDEFB;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="70" y="130" as="sourcePoint"/>
        <mxPoint x="150" y="130" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯2: æäº¤è®¢å• -->
    <mxCell id="msg2" value="2. POST /api/orders" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#1976D2;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="150" y="155" as="sourcePoint"/>
        <mxPoint x="250" y="155" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯3: è°ƒç”¨åˆ›å»ºè®¢å• -->
    <mxCell id="msg3" value="3. createOrder()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="250" y="180" as="sourcePoint"/>
        <mxPoint x="365" y="180" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯4: èŽ·å–åˆ†å¸ƒå¼é” -->
    <mxCell id="msg4" value="4. èŽ·å–åˆ†å¸ƒå¼é”" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="205" as="sourcePoint"/>
        <mxPoint x="585" y="205" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯5: é”èŽ·å–æˆåŠŸ -->
    <mxCell id="msg5" value="5. é”èŽ·å–æˆåŠŸ" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="585" y="230" as="sourcePoint"/>
        <mxPoint x="365" y="230" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯6: æ£€æŸ¥åº“å­˜ -->
    <mxCell id="msg6" value="6. checkStock()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#D32F2F;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="255" as="sourcePoint"/>
        <mxPoint x="480" y="255" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯7: æŸ¥è¯¢æ•°æ®åº“ -->
    <mxCell id="msg7" value="7. SELECT stock" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="480" y="280" as="sourcePoint"/>
        <mxPoint x="670" y="280" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯8: è¿”å›žåº“å­˜ -->
    <mxCell id="msg8" value="8. åº“å­˜æ•°æ®" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="670" y="305" as="sourcePoint"/>
        <mxPoint x="480" y="305" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯9: åº“å­˜å……è¶³ -->
    <mxCell id="msg9" value="9. åº“å­˜å……è¶³" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#D32F2F;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="480" y="330" as="sourcePoint"/>
        <mxPoint x="365" y="330" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯10: é”å®šåº“å­˜ -->
    <mxCell id="msg10" value="10. lockStock()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#D32F2F;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="355" as="sourcePoint"/>
        <mxPoint x="480" y="355" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯11: UPDATEåº“å­˜ -->
    <mxCell id="msg11" value="11. UPDATE stock" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="480" y="380" as="sourcePoint"/>
        <mxPoint x="670" y="380" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯12: æ›´æ–°æˆåŠŸ -->
    <mxCell id="msg12" value="12. OK" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="670" y="405" as="sourcePoint"/>
        <mxPoint x="480" y="405" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯13: ä¿å­˜è®¢å• -->
    <mxCell id="msg13" value="13. INSERT order" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="430" as="sourcePoint"/>
        <mxPoint x="670" y="430" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯14: è®¢å•ID -->
    <mxCell id="msg14" value="14. orderId" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#666666;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="670" y="455" as="sourcePoint"/>
        <mxPoint x="365" y="455" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯15: å‘é€è¶…æ—¶æ¶ˆæ¯ -->
    <mxCell id="msg15" value="15. å‘é€å»¶è¿Ÿæ¶ˆæ¯(30min)" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#00838F;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="480" as="sourcePoint"/>
        <mxPoint x="755" y="480" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯16: é‡Šæ”¾é” -->
    <mxCell id="msg16" value="16. é‡Šæ”¾é”" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="505" as="sourcePoint"/>
        <mxPoint x="585" y="505" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯17: è¿”å›žè®¢å•ä¿¡æ¯ -->
    <mxCell id="msg17" value="17. è®¢å•ä¿¡æ¯" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#388E3C;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="365" y="530" as="sourcePoint"/>
        <mxPoint x="250" y="530" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯18: è¿”å›žResponse -->
    <mxCell id="msg18" value="18. ApiResponse" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#1976D2;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="250" y="555" as="sourcePoint"/>
        <mxPoint x="150" y="555" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¶ˆæ¯19: è·³è½¬æ”¯ä»˜ -->
    <mxCell id="msg19" value="19. è·³è½¬æ”¯ä»˜é¡µ" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;strokeColor=#1976D2;strokeWidth=2;dashed=1;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="150" y="580" as="sourcePoint"/>
        <mxPoint x="70" y="580" as="targetPoint"/>
      </mxGeometry>
    </mxCell>
    
    <!-- æ¿€æ´»æ¡† -->
    <mxCell id="act1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
      <mxGeometry x="245" y="155" width="10" height="385" as="geometry"/>
    </mxCell>
    <mxCell id="act2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
      <mxGeometry x="360" y="180" width="10" height="355" as="geometry"/>
    </mxCell>
    <mxCell id="act3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
      <mxGeometry x="475" y="255" width="10" height="160" as="geometry"/>
    </mxCell>
    
    <!-- æ³¨é‡Šæ¡† -->
    <mxCell id="note1" value="TCCäº‹åŠ¡ä¿è¯&#xa;åº“å­˜ä¸Žè®¢å•ä¸€è‡´æ€§" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#FFF9C4;strokeColor=#FBC02D;fontSize=10;align=left;spacingLeft=5;" vertex="1" parent="1">
      <mxGeometry x="600" y="340" width="120" height="45" as="geometry"/>
    </mxCell>
    
    <mxCell id="note2" value="30åˆ†é’Ÿå»¶è¿Ÿæ¶ˆæ¯&#xa;ç”¨äºŽè®¢å•è¶…æ—¶å–æ¶ˆ" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=10;align=left;spacingLeft=5;" vertex="1" parent="1">
      <mxGeometry x="600" y="485" width="120" height="40" as="geometry"/>
    </mxCell>
  </root>
</mxGraphModel>