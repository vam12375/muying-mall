package com.muyingmall.config;

import io.swagger.v3.oas.models.Components;
import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.info.Contact;
import io.swagger.v3.oas.models.info.Info;
import io.swagger.v3.oas.models.info.License;
import io.swagger.v3.oas.models.security.SecurityRequirement;
import io.swagger.v3.oas.models.security.SecurityScheme;
import io.swagger.v3.oas.models.servers.Server;
import io.swagger.v3.oas.models.ExternalDocumentation;
import io.swagger.v3.oas.models.tags.Tag;
import org.springdoc.core.models.GroupedOpenApi;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.Arrays;

/**
 * OpenAPI (Swagger) é…ç½®ç±»
 * æä¾›å®Œæ•´çš„ä¸­æ–‡APIæ–‡æ¡£ï¼Œä¼˜åŒ–åˆ†ç»„ç»“æ„
 * 
 * Source: OpenAPI é…ç½®ä¼˜åŒ–
 * éµå¾ªåè®®: AURA-X-KYS (KISS/YAGNI/SOLID)
 */
@Configuration
public class OpenAPIConfig {

        /**
         * OpenAPI ä¸»é…ç½®
         * é…ç½®APIæ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯ã€æœåŠ¡å™¨åœ°å€ã€å®‰å…¨è®¤è¯ç­‰
         */
        @Bean
        public OpenAPI muyingMallOpenAPI() {
                return new OpenAPI()
                                .info(new Info()
                                                .title("æ¯å©´å•†åŸ API æ–‡æ¡£")
                                                .description("""
                                                                # æ¯å©´å•†åŸç³»ç»Ÿ RESTful API æ–‡æ¡£

                                                                ## ï¿½ ç³»ç«¯ç»Ÿæ¦‚è¿°
                                                                æ¯å©´å•†åŸç³»ç»Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç”µå•†å¹³å°ï¼Œæä¾›ç”¨æˆ·ç«¯è´­ç‰©å’Œåå°ç®¡ç†ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚
                                                                ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼ŒåŸºäº Spring Boot 3.x + MyBatis Plus æ„å»ºã€‚

                                                                ## âœ¨ æ ¸å¿ƒç‰¹æ€§
                                                                - ğŸ” **å®‰å…¨è®¤è¯**: JWT Token è®¤è¯æˆæƒæœºåˆ¶
                                                                - ğŸ“± **ç§»åŠ¨ä¼˜å…ˆ**: RESTful API è®¾è®¡ï¼Œå®Œç¾æ”¯æŒç§»åŠ¨ç«¯
                                                                - ğŸ’³ **æ”¯ä»˜é›†æˆ**: æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é’±åŒ…æ”¯ä»˜
                                                                - ğŸ›’ **è´­ç‰©æµç¨‹**: å®Œæ•´çš„è´­ç‰©è½¦ã€è®¢å•ã€æ”¯ä»˜ã€ç‰©æµæµç¨‹
                                                                - ğŸ¯ **æ™ºèƒ½æ¨è**: åŸºäºç”¨æˆ·è¡Œä¸ºçš„å•†å“æ¨èç³»ç»Ÿ
                                                                - ğŸ“Š **æ•°æ®åˆ†æ**: å®æ—¶ç»Ÿè®¡åˆ†æå’Œå¯è§†åŒ–æŠ¥è¡¨
                                                                - ğŸ **è¥é”€å·¥å…·**: ä¼˜æƒ åˆ¸ã€ç§¯åˆ†ã€è¯„è®ºå¥–åŠ±ç­‰è¥é”€åŠŸèƒ½
                                                                - ğŸ”„ **å”®åæœåŠ¡**: å®Œå–„çš„é€€æ¬¾é€€è´§å¤„ç†æµç¨‹

                                                                ## ğŸš€ å¿«é€Ÿå¼€å§‹

                                                                ### 1. ç”¨æˆ·ç«¯æ¥å£
                                                                ```bash
                                                                # ç”¨æˆ·æ³¨å†Œ
                                                                POST /user/register
                                                                
                                                                # ç”¨æˆ·ç™»å½•ï¼ˆè·å–Tokenï¼‰
                                                                POST /user/login
                                                                
                                                                # ä½¿ç”¨Tokenè®¿é—®å—ä¿æŠ¤æ¥å£
                                                                GET /user/info
                                                                Headers: Authorization: Bearer {your_token}
                                                                ```

                                                                ### 2. ç®¡ç†åå°æ¥å£
                                                                æ‰€æœ‰ç®¡ç†åå°æ¥å£è·¯å¾„ä»¥ `/admin` å¼€å¤´ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™ã€‚
                                                                ```bash
                                                                # è·å–ä»ªè¡¨ç›˜æ•°æ®
                                                                GET /admin/dashboard/stats
                                                                Headers: Authorization: Bearer {admin_token}
                                                                ```

                                                                ## ğŸ”‘ è®¤è¯è¯´æ˜
                                                                1. è°ƒç”¨ç™»å½•æ¥å£è·å– JWT Token
                                                                2. åœ¨åç»­è¯·æ±‚çš„ Header ä¸­æ·»åŠ : `Authorization: Bearer {token}`
                                                                3. Token æœ‰æ•ˆæœŸä¸º 7 å¤©ï¼Œè¿‡æœŸåéœ€é‡æ–°ç™»å½•

                                                                ## ğŸ“ æ¥å£è§„èŒƒ
                                                                - æ‰€æœ‰æ¥å£ç»Ÿä¸€è¿”å›æ ¼å¼: `{code, message, data}`
                                                                - æˆåŠŸå“åº”: `code=200`
                                                                - ä¸šåŠ¡é”™è¯¯: `code=400-499`
                                                                - æœåŠ¡å™¨é”™è¯¯: `code=500-599`

                                                                ## ğŸ’¡ æŠ€æœ¯æ”¯æŒ
                                                                å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ã€‚
                                                                """)
                                                .version("v1.2.0")
                                                .termsOfService("https://www.muying-mall.com/terms")
                                                .contact(new Contact()
                                                                .name("æ¯å©´å•†åŸå¼€å‘å›¢é˜Ÿ")
                                                                .email("api-support@muying-mall.com")
                                                                .url("https://www.muying-mall.com/contact"))
                                                .license(new License()
                                                                .name("Apache 2.0")
                                                                .url("https://www.apache.org/licenses/LICENSE-2.0.html")))
                                .servers(Arrays.asList(
                                                new Server().url("http://localhost:8080/api").description("ğŸ”§ æœ¬åœ°å¼€å‘ç¯å¢ƒ"),
                                                new Server().url("https://api-test.muying-mall.com/api")
                                                                .description("ğŸ§ª æµ‹è¯•ç¯å¢ƒ"),
                                                new Server().url("https://api-staging.muying-mall.com/api")
                                                                .description("ğŸ­ é¢„ç”Ÿäº§ç¯å¢ƒ"),
                                                new Server().url("https://api.muying-mall.com/api")
                                                                .description("ğŸš€ ç”Ÿäº§ç¯å¢ƒ")))
                                .addSecurityItem(new SecurityRequirement().addList("JWT"))
                                .components(new Components()
                                                .addSecuritySchemes("JWT", new SecurityScheme()
                                                                .name("Authorization")
                                                                .type(SecurityScheme.Type.HTTP)
                                                                .scheme("bearer")
                                                                .bearerFormat("JWT")
                                                                .in(SecurityScheme.In.HEADER)
                                                                .description("JWT è®¤è¯ä»¤ç‰Œï¼Œæ ¼å¼ï¼šBearer {token}ã€‚ç™»å½•åè·å–ï¼Œæœ‰æ•ˆæœŸ7å¤©ã€‚")))
                                .externalDocs(new ExternalDocumentation()
                                                .description("ğŸ“š å®Œæ•´çš„ API æ–‡æ¡£å’Œå¼€å‘æŒ‡å—")
                                                .url("https://docs.muying-mall.com"))
                                .tags(Arrays.asList(
                                                // ç”¨æˆ·ç«¯åŠŸèƒ½æ ‡ç­¾
                                                new Tag().name("ç”¨æˆ·ç®¡ç†").description("ğŸ‘¤ ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†ã€å¤´åƒä¸Šä¼ ã€å¯†ç ä¿®æ”¹ç­‰åŠŸèƒ½"),
                                                new Tag().name("å•†å“ç®¡ç†").description("ğŸ›ï¸ å•†å“æŸ¥è¯¢ã€è¯¦æƒ…ã€åˆ†ç±»æµè§ˆã€å“ç‰Œç­›é€‰ã€å•†å“æ¨èç­‰åŠŸèƒ½"),
                                                new Tag().name("å•†å“åˆ†ç±»").description("ğŸ“‚ å•†å“åˆ†ç±»æŸ¥è¯¢ã€å­åˆ†ç±»è·å–ã€åˆ†ç±»å•†å“åˆ—è¡¨ç­‰åŠŸèƒ½"),
                                                new Tag().name("è®¢å•ç®¡ç†").description("ğŸ“¦ è®¢å•åˆ›å»ºã€æŸ¥è¯¢ã€å–æ¶ˆã€ç¡®è®¤æ”¶è´§ã€è®¢å•ç»Ÿè®¡ç­‰åŠŸèƒ½"),
                                                new Tag().name("æ”¯ä»˜ç®¡ç†").description("ğŸ’³ è®¢å•æ”¯ä»˜ã€æ”¯ä»˜å›è°ƒã€æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢ç­‰åŠŸèƒ½"),
                                                new Tag().name("è´­ç‰©è½¦").description("ğŸ›’ è´­ç‰©è½¦å•†å“æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ•°é‡ã€æ¸…ç©ºç­‰åŠŸèƒ½"),
                                                new Tag().name("åœ°å€ç®¡ç†").description("ğŸ“ æ”¶è´§åœ°å€çš„å¢åˆ æ”¹æŸ¥ã€è®¾ç½®é»˜è®¤åœ°å€ç­‰åŠŸèƒ½"),
                                                new Tag().name("ä¼˜æƒ åˆ¸ç®¡ç†").description("ğŸ« ä¼˜æƒ åˆ¸é¢†å–ã€æŸ¥è¯¢ã€ä½¿ç”¨ã€å…‘æ¢ç ç­‰åŠŸèƒ½"),
                                                new Tag().name("ç§¯åˆ†ç®¡ç†").description("â­ ç§¯åˆ†æŸ¥è¯¢ã€ç§¯åˆ†å…‘æ¢ã€ç§¯åˆ†å†å²è®°å½•ç­‰åŠŸèƒ½"),
                                                new Tag().name("è¯„ä»·ç®¡ç†").description("ğŸ’¬ å•†å“è¯„ä»·ã€è¯„ä»·å›å¤ã€è¯„ä»·æ ‡ç­¾ã€è¯„ä»·æ¨¡æ¿ç­‰åŠŸèƒ½"),
                                                new Tag().name("é€€æ¬¾ç®¡ç†").description("â†©ï¸ é€€æ¬¾ç”³è¯·ã€é€€æ¬¾æŸ¥è¯¢ã€é€€æ¬¾çŠ¶æ€è·Ÿè¸ªç­‰åŠŸèƒ½"),
                                                new Tag().name("ç‰©æµç®¡ç†").description("ğŸšš ç‰©æµä¿¡æ¯æŸ¥è¯¢ã€ç‰©æµè·Ÿè¸ªç­‰åŠŸèƒ½"),
                                                new Tag().name("æ”¶è—ç®¡ç†").description("â¤ï¸ å•†å“æ”¶è—ã€å–æ¶ˆæ”¶è—ã€æ”¶è—åˆ—è¡¨ç­‰åŠŸèƒ½"),
                                                new Tag().name("æ¶ˆæ¯ç®¡ç†").description("ğŸ“§ ç”¨æˆ·æ¶ˆæ¯æŸ¥è¯¢ã€æ¶ˆæ¯å·²è¯»ã€æ¶ˆæ¯åˆ é™¤ç­‰åŠŸèƒ½"),
                                                new Tag().name("é’±åŒ…ç®¡ç†").description("ğŸ’° ç”¨æˆ·é’±åŒ…ä½™é¢æŸ¥è¯¢ã€å……å€¼ã€äº¤æ˜“è®°å½•ç­‰åŠŸèƒ½"),
                                                
                                                // åå°ç®¡ç†åŠŸèƒ½æ ‡ç­¾
                                                new Tag().name("åå°-ä»ªè¡¨ç›˜").description("ğŸ“Š åå°é¦–é¡µæ•°æ®ç»Ÿè®¡ã€å›¾è¡¨å±•ç¤ºã€å¾…åŠäº‹é¡¹ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-ç”¨æˆ·ç®¡ç†").description("ğŸ‘¥ ç”¨æˆ·åˆ—è¡¨ã€ç”¨æˆ·è¯¦æƒ…ã€ç”¨æˆ·çŠ¶æ€ç®¡ç†ã€ç”¨æˆ·è´¦æˆ·ç®¡ç†ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-å•†å“ç®¡ç†").description("ğŸ“¦ å•†å“åˆ—è¡¨ã€å•†å“åˆ›å»ºã€å•†å“ç¼–è¾‘ã€å•†å“ä¸Šä¸‹æ¶ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-åˆ†ç±»ç®¡ç†").description("ğŸ—‚ï¸ åˆ†ç±»åˆ—è¡¨ã€åˆ†ç±»åˆ›å»ºã€åˆ†ç±»ç¼–è¾‘ã€åˆ†ç±»æ’åºç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-å“ç‰Œç®¡ç†").description("ğŸ·ï¸ å“ç‰Œåˆ—è¡¨ã€å“ç‰Œåˆ›å»ºã€å“ç‰Œç¼–è¾‘ã€å“ç‰ŒçŠ¶æ€ç®¡ç†ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-è®¢å•ç®¡ç†").description("ğŸ“‹ è®¢å•åˆ—è¡¨ã€è®¢å•è¯¦æƒ…ã€è®¢å•å‘è´§ã€è®¢å•çŠ¶æ€ç®¡ç†ã€è®¢å•ç»Ÿè®¡ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-é€€æ¬¾ç®¡ç†").description("ğŸ’¸ é€€æ¬¾åˆ—è¡¨ã€é€€æ¬¾å®¡æ ¸ã€é€€æ¬¾å¤„ç†ã€é€€æ¬¾ç»Ÿè®¡ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-ä¼˜æƒ åˆ¸ç®¡ç†").description("ğŸŸï¸ ä¼˜æƒ åˆ¸åˆ—è¡¨ã€ä¼˜æƒ åˆ¸åˆ›å»ºã€ä¼˜æƒ åˆ¸ç¼–è¾‘ã€ä¼˜æƒ åˆ¸å‘æ”¾ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-ç§¯åˆ†ç®¡ç†").description("ğŸŒŸ ç§¯åˆ†é…ç½®ã€ç§¯åˆ†å•†å“ç®¡ç†ã€ç§¯åˆ†å…‘æ¢è®°å½•ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-è¯„ä»·ç®¡ç†").description("ğŸ“ è¯„ä»·åˆ—è¡¨ã€è¯„ä»·å®¡æ ¸ã€è¯„ä»·å›å¤ã€è¯„ä»·ç»Ÿè®¡ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-ç‰©æµç®¡ç†").description("ğŸš› ç‰©æµå…¬å¸ç®¡ç†ã€ç‰©æµä¿¡æ¯ç®¡ç†ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-æ¶ˆæ¯ç®¡ç†").description("ğŸ“® ç³»ç»Ÿæ¶ˆæ¯å‘é€ã€æ¶ˆæ¯æ¨¡æ¿ç®¡ç†ç­‰åŠŸèƒ½"),
                                                new Tag().name("åå°-å†…å®¹ç®¡ç†").description("ğŸ“„ è½®æ’­å›¾ã€å…¬å‘Šã€å¸®åŠ©æ–‡æ¡£ç­‰å†…å®¹ç®¡ç†åŠŸèƒ½"),
                                                new Tag().name("åå°-æ•°æ®åˆ†æ").description("ğŸ“ˆ é”€å”®åˆ†æã€ç”¨æˆ·åˆ†æã€å•†å“åˆ†æç­‰æ•°æ®ç»Ÿè®¡åŠŸèƒ½"),
                                                new Tag().name("åå°-ç³»ç»Ÿè®¾ç½®").description("âš™ï¸ ç³»ç»Ÿé…ç½®ã€å‚æ•°è®¾ç½®ã€ç³»ç»Ÿç›‘æ§ç­‰åŠŸèƒ½"),
                                                
                                                // ç³»ç»ŸåŠŸèƒ½æ ‡ç­¾
                                                new Tag().name("ç³»ç»ŸåŠŸèƒ½").description("ğŸ”§ ç³»ç»Ÿå¥åº·æ£€æŸ¥ã€æµ‹è¯•æ¥å£ã€ç›‘æ§æŒ‡æ ‡ç­‰ç³»ç»Ÿçº§åŠŸèƒ½")));
        }

        // ==================== ç”¨æˆ·ç«¯ API åˆ†ç»„ ====================
        
        /**
         * ç”¨æˆ·ç®¡ç† API åˆ†ç»„
         * åŒ…å«ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi userApi() {
                return GroupedOpenApi.builder()
                                .group("01-ç”¨æˆ·ç®¡ç†")
                                .pathsToMatch("/user/**")
                                .displayName("ğŸ‘¤ ç”¨æˆ·ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## ç”¨æˆ·ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›ç”¨æˆ·ç›¸å…³çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
                                                                - ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
                                                                - ä¸ªäººä¿¡æ¯æŸ¥è¯¢å’Œä¿®æ”¹
                                                                - å¤´åƒä¸Šä¼ 
                                                                - å¯†ç ä¿®æ”¹
                                                                - é€€å‡ºç™»å½•
                                                                
                                                                ### è®¤è¯è¯´æ˜
                                                                é™¤æ³¨å†Œå’Œç™»å½•æ¥å£å¤–ï¼Œå…¶ä»–æ¥å£å‡éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ JWT Tokenã€‚
                                                                """)))
                                .build();
        }

        /**
         * å•†å“ç®¡ç† API åˆ†ç»„
         * åŒ…å«å•†å“æŸ¥è¯¢ã€è¯¦æƒ…ã€æ¨èç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi productApi() {
                return GroupedOpenApi.builder()
                                .group("02-å•†å“ç®¡ç†")
                                .pathsToMatch("/products/**")
                                .displayName("ğŸ›ï¸ å•†å“ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## å•†å“ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›å•†å“ç›¸å…³åŠŸèƒ½ï¼š
                                                                - å•†å“åˆ—è¡¨æŸ¥è¯¢ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æœç´¢ï¼‰
                                                                - å•†å“è¯¦æƒ…æŸ¥è¯¢
                                                                - å•†å“æ¨èï¼ˆæœ¬åº—æ¨èã€çŒœä½ å–œæ¬¢ï¼‰
                                                                - å•†å“è§„æ ¼å’Œå‚æ•°æŸ¥è¯¢
                                                                
                                                                ### æŸ¥è¯¢å‚æ•°è¯´æ˜
                                                                - page: é¡µç ï¼Œä»1å¼€å§‹
                                                                - size: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10
                                                                - categoryId: åˆ†ç±»IDç­›é€‰
                                                                - isHot: æ˜¯å¦çƒ­é—¨å•†å“
                                                                - isNew: æ˜¯å¦æ–°å“
                                                                - isRecommend: æ˜¯å¦æ¨èå•†å“
                                                                - keyword: æœç´¢å…³é”®è¯
                                                                """)))
                                .build();
        }
        
        /**
         * å•†å“åˆ†ç±» API åˆ†ç»„
         * åŒ…å«åˆ†ç±»æŸ¥è¯¢ã€å­åˆ†ç±»è·å–ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi categoryApi() {
                return GroupedOpenApi.builder()
                                .group("03-å•†å“åˆ†ç±»")
                                .pathsToMatch("/categories/**")
                                .displayName("ğŸ“‚ å•†å“åˆ†ç±»")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## å•†å“åˆ†ç±»æ¨¡å—
                                                                
                                                                æä¾›å•†å“åˆ†ç±»ç›¸å…³åŠŸèƒ½ï¼š
                                                                - è·å–æ‰€æœ‰åˆ†ç±»åˆ—è¡¨
                                                                - è·å–åˆ†ç±»è¯¦æƒ…
                                                                - è·å–å­åˆ†ç±»åˆ—è¡¨
                                                                - è·å–åˆ†ç±»ä¸‹çš„å•†å“åˆ—è¡¨
                                                                
                                                                ### åˆ†ç±»ç»“æ„
                                                                ç³»ç»Ÿæ”¯æŒå¤šçº§åˆ†ç±»ï¼Œé€šè¿‡ parentId å­—æ®µå…³è”çˆ¶å­å…³ç³»ã€‚
                                                                """)))
                                .build();
        }
        
        /**
         * å“ç‰Œç®¡ç† API åˆ†ç»„
         * åŒ…å«å“ç‰ŒæŸ¥è¯¢ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi brandApi() {
                return GroupedOpenApi.builder()
                                .group("04-å“ç‰Œç®¡ç†")
                                .pathsToMatch("/brands/**")
                                .displayName("ğŸ·ï¸ å“ç‰Œç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## å“ç‰Œç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›å“ç‰Œç›¸å…³åŠŸèƒ½ï¼š
                                                                - è·å–å“ç‰Œåˆ—è¡¨
                                                                - è·å–å“ç‰Œè¯¦æƒ…
                                                                - è·å–å“ç‰Œä¸‹çš„å•†å“
                                                                """)))
                                .build();
        }

        /**
         * è´­ç‰©è½¦ç®¡ç† API åˆ†ç»„
         * åŒ…å«è´­ç‰©è½¦å•†å“çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi cartApi() {
                return GroupedOpenApi.builder()
                                .group("05-è´­ç‰©è½¦")
                                .pathsToMatch("/cart/**")
                                .displayName("ğŸ›’ è´­ç‰©è½¦")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## è´­ç‰©è½¦æ¨¡å—
                                                                
                                                                æä¾›è´­ç‰©è½¦ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
                                                                - æŸ¥è¯¢è´­ç‰©è½¦åˆ—è¡¨
                                                                - ä¿®æ”¹å•†å“æ•°é‡
                                                                - åˆ é™¤è´­ç‰©è½¦å•†å“
                                                                - æ¸…ç©ºè´­ç‰©è½¦
                                                                - é€‰ä¸­/å–æ¶ˆé€‰ä¸­å•†å“
                                                                
                                                                ### æ³¨æ„äº‹é¡¹
                                                                - éœ€è¦ç™»å½•åæ‰èƒ½ä½¿ç”¨è´­ç‰©è½¦åŠŸèƒ½
                                                                - è´­ç‰©è½¦å•†å“æ•°é‡æœ‰é™åˆ¶
                                                                """)))
                                .build();
        }
        
        /**
         * è®¢å•ç®¡ç† API åˆ†ç»„
         * åŒ…å«è®¢å•åˆ›å»ºã€æŸ¥è¯¢ã€å–æ¶ˆç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi orderApi() {
                return GroupedOpenApi.builder()
                                .group("06-è®¢å•ç®¡ç†")
                                .pathsToMatch("/order/**")
                                .displayName("ğŸ“¦ è®¢å•ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## è®¢å•ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›è®¢å•ç›¸å…³åŠŸèƒ½ï¼š
                                                                - åˆ›å»ºè®¢å•ï¼ˆä»è´­ç‰©è½¦ï¼‰
                                                                - ç›´æ¥è´­ä¹°ï¼ˆä¸ç»è¿‡è´­ç‰©è½¦ï¼‰
                                                                - è®¢å•åˆ—è¡¨æŸ¥è¯¢
                                                                - è®¢å•è¯¦æƒ…æŸ¥è¯¢
                                                                - å–æ¶ˆè®¢å•
                                                                - ç¡®è®¤æ”¶è´§
                                                                - åˆ é™¤è®¢å•
                                                                - è®¢å•ç»Ÿè®¡
                                                                
                                                                ### è®¢å•çŠ¶æ€æµè½¬
                                                                å¾…æ”¯ä»˜ â†’ å¾…å‘è´§ â†’ å·²å‘è´§ â†’ å·²å®Œæˆ
                                                                
                                                                ### æ”¯æŒçš„æ“ä½œ
                                                                - å¾…æ”¯ä»˜ï¼šå¯å–æ¶ˆã€å¯æ”¯ä»˜
                                                                - å¾…å‘è´§ï¼šå¯å–æ¶ˆ
                                                                - å·²å‘è´§ï¼šå¯ç¡®è®¤æ”¶è´§
                                                                - å·²å®Œæˆï¼šå¯è¯„ä»·ã€å¯ç”³è¯·é€€æ¬¾
                                                                """)))
                                .build();
        }
        
        /**
         * æ”¯ä»˜ç®¡ç† API åˆ†ç»„
         * åŒ…å«æ”¯ä»˜å¤„ç†ã€æ”¯ä»˜å›è°ƒç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi paymentApi() {
                return GroupedOpenApi.builder()
                                .group("07-æ”¯ä»˜ç®¡ç†")
                                .pathsToMatch("/payment/**", "/alipay/**", "/wallet-payment/**")
                                .displayName("ğŸ’³ æ”¯ä»˜ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## æ”¯ä»˜ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›æ”¯ä»˜ç›¸å…³åŠŸèƒ½ï¼š
                                                                - åˆ›å»ºæ”¯ä»˜è®¢å•
                                                                - æ”¯ä»˜å®æ”¯ä»˜
                                                                - å¾®ä¿¡æ”¯ä»˜
                                                                - é’±åŒ…æ”¯ä»˜
                                                                - æ”¯ä»˜å›è°ƒå¤„ç†
                                                                - æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢
                                                                
                                                                ### æ”¯æŒçš„æ”¯ä»˜æ–¹å¼
                                                                - alipay: æ”¯ä»˜å®æ”¯ä»˜
                                                                - wechat: å¾®ä¿¡æ”¯ä»˜
                                                                - wallet: é’±åŒ…ä½™é¢æ”¯ä»˜
                                                                
                                                                ### æ”¯ä»˜æµç¨‹
                                                                1. åˆ›å»ºè®¢å•
                                                                2. è°ƒç”¨æ”¯ä»˜æ¥å£
                                                                3. è·³è½¬åˆ°æ”¯ä»˜é¡µé¢
                                                                4. æ”¯ä»˜å®Œæˆåå›è°ƒ
                                                                5. æ›´æ–°è®¢å•çŠ¶æ€
                                                                """)))
                                .build();
        }
        
        /**
         * é€€æ¬¾ç®¡ç† API åˆ†ç»„
         * åŒ…å«é€€æ¬¾ç”³è¯·ã€æŸ¥è¯¢ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi refundApi() {
                return GroupedOpenApi.builder()
                                .group("08-é€€æ¬¾ç®¡ç†")
                                .pathsToMatch("/refund/**")
                                .displayName("â†©ï¸ é€€æ¬¾ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## é€€æ¬¾ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›é€€æ¬¾ç›¸å…³åŠŸèƒ½ï¼š
                                                                - ç”³è¯·é€€æ¬¾
                                                                - æŸ¥è¯¢é€€æ¬¾åˆ—è¡¨
                                                                - æŸ¥è¯¢é€€æ¬¾è¯¦æƒ…
                                                                - å–æ¶ˆé€€æ¬¾ç”³è¯·
                                                                - é€€æ¬¾è¿›åº¦æŸ¥è¯¢
                                                                
                                                                ### é€€æ¬¾çŠ¶æ€æµè½¬
                                                                å¾…å®¡æ ¸ â†’ å®¡æ ¸é€šè¿‡ â†’ å¤„ç†ä¸­ â†’ å·²å®Œæˆ
                                                                
                                                                ### é€€æ¬¾æ¡ä»¶
                                                                - è®¢å•çŠ¶æ€ä¸ºå·²å®Œæˆ
                                                                - åœ¨é€€æ¬¾æœŸé™å†…ï¼ˆé€šå¸¸7å¤©ï¼‰
                                                                - å•†å“æœªä½¿ç”¨æˆ–æŸå
                                                                """)))
                                .build();
        }
        
        /**
         * ç‰©æµç®¡ç† API åˆ†ç»„
         * åŒ…å«ç‰©æµä¿¡æ¯æŸ¥è¯¢ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi logisticsApi() {
                return GroupedOpenApi.builder()
                                .group("09-ç‰©æµç®¡ç†")
                                .pathsToMatch("/logistics/**")
                                .displayName("ğŸšš ç‰©æµç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## ç‰©æµç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›ç‰©æµç›¸å…³åŠŸèƒ½ï¼š
                                                                - æŸ¥è¯¢è®¢å•ç‰©æµä¿¡æ¯
                                                                - ç‰©æµè½¨è¿¹è·Ÿè¸ª
                                                                - ç‰©æµå…¬å¸åˆ—è¡¨
                                                                
                                                                ### ç‰©æµçŠ¶æ€
                                                                - å¾…æ½æ”¶
                                                                - è¿è¾“ä¸­
                                                                - æ´¾é€ä¸­
                                                                - å·²ç­¾æ”¶
                                                                """)))
                                .build();
        }

        /**
         * åœ°å€ç®¡ç† API åˆ†ç»„
         * åŒ…å«æ”¶è´§åœ°å€çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi addressApi() {
                return GroupedOpenApi.builder()
                                .group("10-åœ°å€ç®¡ç†")
                                .pathsToMatch("/user/addresses/**")
                                .displayName("ğŸ“ åœ°å€ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## åœ°å€ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›æ”¶è´§åœ°å€ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æ·»åŠ æ”¶è´§åœ°å€
                                                                - æŸ¥è¯¢åœ°å€åˆ—è¡¨
                                                                - ä¿®æ”¹åœ°å€ä¿¡æ¯
                                                                - åˆ é™¤åœ°å€
                                                                - è®¾ç½®é»˜è®¤åœ°å€
                                                                - æŸ¥è¯¢åœ°å€è¯¦æƒ…
                                                                
                                                                ### æ³¨æ„äº‹é¡¹
                                                                - æ¯ä¸ªç”¨æˆ·æœ€å¤šå¯æ·»åŠ 20ä¸ªåœ°å€
                                                                - å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªé»˜è®¤åœ°å€
                                                                """)))
                                .build();
        }
        
        /**
         * ä¼˜æƒ åˆ¸ç®¡ç† API åˆ†ç»„
         * åŒ…å«ä¼˜æƒ åˆ¸é¢†å–ã€æŸ¥è¯¢ã€ä½¿ç”¨ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi couponApi() {
                return GroupedOpenApi.builder()
                                .group("11-ä¼˜æƒ åˆ¸")
                                .pathsToMatch("/coupons/**", "/user/coupons/**")
                                .displayName("ğŸ« ä¼˜æƒ åˆ¸")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## ä¼˜æƒ åˆ¸æ¨¡å—
                                                                
                                                                æä¾›ä¼˜æƒ åˆ¸ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æŸ¥è¯¢å¯é¢†å–ä¼˜æƒ åˆ¸
                                                                - é¢†å–ä¼˜æƒ åˆ¸
                                                                - æŸ¥è¯¢æˆ‘çš„ä¼˜æƒ åˆ¸
                                                                - æŸ¥è¯¢è®¢å•å¯ç”¨ä¼˜æƒ åˆ¸
                                                                - é€šè¿‡ä¼˜æƒ ç å…‘æ¢
                                                                - ä¼˜æƒ åˆ¸ç»Ÿè®¡
                                                                
                                                                ### ä¼˜æƒ åˆ¸ç±»å‹
                                                                - æ»¡å‡åˆ¸ï¼šæ»¡è¶³é‡‘é¢æ¡ä»¶å‡å…
                                                                - æŠ˜æ‰£åˆ¸ï¼šæŒ‰æ¯”ä¾‹æŠ˜æ‰£
                                                                - æ— é—¨æ§›åˆ¸ï¼šç›´æ¥å‡å…
                                                                
                                                                ### ä¼˜æƒ åˆ¸çŠ¶æ€
                                                                - æœªä½¿ç”¨ï¼šå¯ä»¥ä½¿ç”¨
                                                                - å·²ä½¿ç”¨ï¼šå·²åœ¨è®¢å•ä¸­ä½¿ç”¨
                                                                - å·²è¿‡æœŸï¼šè¶…è¿‡æœ‰æ•ˆæœŸ
                                                                """)))
                                .build();
        }
        
        /**
         * ç§¯åˆ†ç®¡ç† API åˆ†ç»„
         * åŒ…å«ç§¯åˆ†æŸ¥è¯¢ã€å…‘æ¢ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi pointsApi() {
                return GroupedOpenApi.builder()
                                .group("12-ç§¯åˆ†ç³»ç»Ÿ")
                                .pathsToMatch("/points/**")
                                .displayName("â­ ç§¯åˆ†ç³»ç»Ÿ")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## ç§¯åˆ†ç³»ç»Ÿæ¨¡å—
                                                                
                                                                æä¾›ç§¯åˆ†ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æŸ¥è¯¢ç§¯åˆ†ä½™é¢
                                                                - ç§¯åˆ†å†å²è®°å½•
                                                                - ç§¯åˆ†å•†å“åˆ—è¡¨
                                                                - ç§¯åˆ†å…‘æ¢å•†å“
                                                                - ç§¯åˆ†å…‘æ¢è®°å½•
                                                                - ç§¯åˆ†è§„åˆ™è¯´æ˜
                                                                
                                                                ### ç§¯åˆ†è·å–æ–¹å¼
                                                                - æ³¨å†Œé€ç§¯åˆ†
                                                                - ç­¾åˆ°é€ç§¯åˆ†
                                                                - è´­ç‰©è¿”ç§¯åˆ†
                                                                - è¯„ä»·é€ç§¯åˆ†
                                                                - åˆ†äº«é€ç§¯åˆ†
                                                                
                                                                ### ç§¯åˆ†ä½¿ç”¨
                                                                - å…‘æ¢å•†å“
                                                                - æŠµæ‰£ç°é‡‘ï¼ˆ100ç§¯åˆ†=1å…ƒï¼‰
                                                                """)))
                                .build();
        }
        
        /**
         * è¯„ä»·ç®¡ç† API åˆ†ç»„
         * åŒ…å«å•†å“è¯„ä»·ã€å›å¤ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi commentApi() {
                return GroupedOpenApi.builder()
                                .group("13-è¯„ä»·ç³»ç»Ÿ")
                                .pathsToMatch("/comment/**")
                                .displayName("ğŸ’¬ è¯„ä»·ç³»ç»Ÿ")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## è¯„ä»·ç³»ç»Ÿæ¨¡å—
                                                                
                                                                æä¾›è¯„ä»·ç›¸å…³åŠŸèƒ½ï¼š
                                                                - åˆ›å»ºå•†å“è¯„ä»·
                                                                - æŸ¥è¯¢å•†å“è¯„ä»·åˆ—è¡¨
                                                                - æŸ¥è¯¢æˆ‘çš„è¯„ä»·
                                                                - è¯„ä»·å›å¤
                                                                - è¯„ä»·ç‚¹èµ
                                                                - è¯„ä»·æ ‡ç­¾
                                                                - è¯„ä»·æ¨¡æ¿
                                                                - è¯„ä»·å¥–åŠ±
                                                                
                                                                ### è¯„ä»·è§„åˆ™
                                                                - è®¢å•å®Œæˆåå¯è¯„ä»·
                                                                - æ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘
                                                                - è¯„ä»·åè·å¾—ç§¯åˆ†å¥–åŠ±
                                                                - ä¼˜è´¨è¯„ä»·é¢å¤–å¥–åŠ±
                                                                
                                                                ### è¯„ä»·ç­‰çº§
                                                                - å¥½è¯„ï¼š4-5æ˜Ÿ
                                                                - ä¸­è¯„ï¼š3æ˜Ÿ
                                                                - å·®è¯„ï¼š1-2æ˜Ÿ
                                                                """)))
                                .build();
        }
        
        /**
         * æ”¶è—ç®¡ç† API åˆ†ç»„
         * åŒ…å«å•†å“æ”¶è—åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi favoriteApi() {
                return GroupedOpenApi.builder()
                                .group("14-æ”¶è—ç®¡ç†")
                                .pathsToMatch("/favorite/**")
                                .displayName("â¤ï¸ æ”¶è—ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## æ”¶è—ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›æ”¶è—ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æ·»åŠ æ”¶è—
                                                                - å–æ¶ˆæ”¶è—
                                                                - æŸ¥è¯¢æ”¶è—åˆ—è¡¨
                                                                - æ‰¹é‡å–æ¶ˆæ”¶è—
                                                                - æ”¶è—ç»Ÿè®¡
                                                                """)))
                                .build();
        }
        
        /**
         * æ¶ˆæ¯ç®¡ç† API åˆ†ç»„
         * åŒ…å«ç”¨æˆ·æ¶ˆæ¯æŸ¥è¯¢ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi messageApi() {
                return GroupedOpenApi.builder()
                                .group("15-æ¶ˆæ¯ç®¡ç†")
                                .pathsToMatch("/user/messages/**")
                                .displayName("ğŸ“§ æ¶ˆæ¯ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## æ¶ˆæ¯ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›æ¶ˆæ¯ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æŸ¥è¯¢æ¶ˆæ¯åˆ—è¡¨
                                                                - æŸ¥è¯¢æ¶ˆæ¯è¯¦æƒ…
                                                                - æ ‡è®°å·²è¯»
                                                                - åˆ é™¤æ¶ˆæ¯
                                                                - æœªè¯»æ¶ˆæ¯æ•°é‡
                                                                
                                                                ### æ¶ˆæ¯ç±»å‹
                                                                - ç³»ç»Ÿé€šçŸ¥
                                                                - è®¢å•æ¶ˆæ¯
                                                                - ç‰©æµæ¶ˆæ¯
                                                                - ä¿ƒé”€æ¶ˆæ¯
                                                                """)))
                                .build();
        }
        
        /**
         * é’±åŒ…ç®¡ç† API åˆ†ç»„
         * åŒ…å«é’±åŒ…ä½™é¢ã€å……å€¼ã€äº¤æ˜“è®°å½•ç­‰åŠŸèƒ½
         */
        @Bean
        public GroupedOpenApi walletApi() {
                return GroupedOpenApi.builder()
                                .group("16-é’±åŒ…ç®¡ç†")
                                .pathsToMatch("/user/wallet/**")
                                .displayName("ğŸ’° é’±åŒ…ç®¡ç†")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("""
                                                                ## é’±åŒ…ç®¡ç†æ¨¡å—
                                                                
                                                                æä¾›é’±åŒ…ç›¸å…³åŠŸèƒ½ï¼š
                                                                - æŸ¥è¯¢é’±åŒ…ä½™é¢
                                                                - é’±åŒ…å……å€¼
                                                                - äº¤æ˜“è®°å½•æŸ¥è¯¢
                                                                - æç°ç”³è¯·
                                                                
                                                                ### äº¤æ˜“ç±»å‹
                                                                - å……å€¼
                                                                - æ¶ˆè´¹
                                                                - é€€æ¬¾
                                                                - æç°
                                                                """)))
                                .build();
        }

        /**
         * ç®¡ç†å‘˜ç›¸å…³APIåˆ†ç»„
         */
        @Bean
        public GroupedOpenApi adminApi() {
                return GroupedOpenApi.builder()
                                .group("ç®¡ç†å‘˜åŠŸèƒ½")
                                .pathsToMatch("/admin/**")
                                .displayName("ğŸ”§ ç®¡ç†å‘˜åŠŸèƒ½")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("åå°ç®¡ç†ã€æ•°æ®ç»Ÿè®¡ã€ç³»ç»Ÿé…ç½®ç­‰ç®¡ç†å‘˜ä¸“ç”¨åŠŸèƒ½")))
                                .build();
        }

        /**
         * ç³»ç»ŸåŠŸèƒ½APIåˆ†ç»„
         */
        @Bean
        public GroupedOpenApi systemApi() {
                return GroupedOpenApi.builder()
                                .group("ç³»ç»ŸåŠŸèƒ½")
                                .pathsToMatch("/test/**", "/actuator/**")
                                .displayName("âš™ï¸ ç³»ç»ŸåŠŸèƒ½")
                                .addOpenApiCustomizer(openApi -> openApi.info(openApi.getInfo()
                                                .description("ç³»ç»Ÿå¥åº·æ£€æŸ¥ã€æµ‹è¯•æ¥å£ã€ç›‘æ§æŒ‡æ ‡ç­‰ç³»ç»ŸåŠŸèƒ½")))
                                .build();
        }
}